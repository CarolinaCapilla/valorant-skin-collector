<!doctype html>
<html {{ HTML_ATTRS }}>
	<head {{ HEAD_ATTRS }}>
		{{ HEAD }}
		<!-- Prevent FOUC (Flash of Unstyled Content) -->
		<style>
			/* Prevent content from showing before Vue hydrates */
			html {
				visibility: hidden;
			}
			html.hydrated {
				visibility: visible;
			}
			/* Show loading spinner covering everything */
			#loading-screen {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				display: flex !important;
				flex-direction: column;
				align-items: center;
				justify-content: center;
				gap: 12px;
				background: white;
				z-index: 999999;
				visibility: visible !important;
			}
			#loading-screen .spinner {
				width: 32px;
				height: 32px;
				border: 3px solid #e5e7eb;
				border-top-color: #3b82f6;
				border-radius: 50%;
				animation: spin 0.6s linear infinite;
			}
			#loading-screen .text {
				font-size: 14px;
				color: #6b7280;
				font-family:
					system-ui,
					-apple-system,
					sans-serif;
			}
			@keyframes spin {
				to {
					transform: rotate(360deg);
				}
			}
			@media (prefers-color-scheme: dark) {
				#loading-screen {
					background: #111827;
				}
				#loading-screen .spinner {
					border-color: #374151;
					border-top-color: #3b82f6;
				}
				#loading-screen .text {
					color: #9ca3af;
				}
			}
		</style>
		<script>
			// Mark as hydrated as early as possible
			document.documentElement.classList.add('hydrated')
		</script>
	</head>
	<body {{ BODY_ATTRS }}>
		<!-- Loading screen shown until Vue hydrates -->
		<div id="loading-screen">
			<div class="spinner"></div>
			<p class="text"></p>
		</div>
		{{ APP }}
	</body>
</html>
